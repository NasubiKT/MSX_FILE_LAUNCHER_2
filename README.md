# MSX FILE LAUNCHER 2

## 概要
MSX BASICで作成したファイルランチャーです。  
本プログラムを実行すると、Aドライブにセットされているフロッピーディスクのファイル一覧を表示します。  
カーソルでファイルを選択すると、選択したファイルを実行します。  
> `AUTOEXEC.BAS`で本プログラムが自動実行されるようにすると便利です。  

#### 操作方法
- カーソルキーまたはJoypadの十字ボタンでカーソル移動します。  
- スペースキーまたはJoypadのAボタンで決定し実行します。  
- ESCキーまたはJoypadのBボタンで本プログラムを終了します。  
  >本プログラム自体はNEWされます。  

## 目的  
ファイルランチャーは、それこそ多くの方が高性能なものを公開されています。  
本プログラムは、自作プログラムを配布する際に同梱することを前提に作成しました。  
本プログラムのカスタマイズと、同梱しての配布を容易にするため、ライセンスはCC0 1.0としました。
>[!IMPORTANT]
>プログラム冒頭のコメントを削除してしまっても問題ありませんし、作者の表記も必要ありません。

- ALL MSX-BASICで作成しています。
- ファイル一覧に表示する拡張子の変更は、1か所を修正するだけです。
- 選択したプログラム実行処理や直前の処理をカスタマイズできます。

## プログラムの改修
### ファイル一覧に表示する対象の拡張子の変更
400行目の`EX$="BAS"`を変更することで、別の拡張子のファイル一覧を表示できます。  
例として、400行目をコメントアウトし、410行目を有効化することで`"*.BIN"`ファイルが一覧表示されます。 
```
400 'EX$="BAS":'Extention Filter
410 EX$="BIN"
```
このプログラムは、`LOAD "選択ファイル名",R`コマンド形式でファイルを実行します。  
このため、拡張子を変更した場合、このコマンド形式に対応していないファイルは実行できません。  
>例えば、拡張子が`"*.BIN"`のファイルは`BLOAD "選択ファイル名",R`コマンドで実行する必要があります。

拡張子が`"*.BIN"`の場合は、以下のように修正することで実行できます。  
```
2760 'LOAD FL$,R
2800 'Ex) "*.BIN" with BACON
2810 'BLOAD "BACONLDR.BIN",R
2820 BLOAD FL$,R
```
### 実行処理のカスタマイズ
先に別のプログラムを実行後、選択したファイルを実行する必要がある場合もあると思います。  
>先にMUSICドライバを実行する必要がある場合など

2180行目に必要なプログラムを実行する記述をしておくことで、対応できます。  
以下は、[MSX-BACON](https://github.com/hra1129/msx_basic_compiler)を使用する場合の例です。  
```
2760 'LOAD FL$,R
2800 'Ex) "*.BIN" with BACON
2810 BLOAD "BACONLDR.BIN",R
2820 BLOAD FL$,R
```

## 制限事項等
- Disk BASIC version 1.0 想定で作成しています。  
Disk BASIC version 2.0 の機能(ディレクトリ等)には対応していません。  
- Aドライブ以外のドライブには対応していません。  
- 実行対象は、拡張子が`.BAS`です。  
  >他の拡張子を実行したい場合は、プログラムを改修してください。  
- 拡張子を変更する場合、以下の点に注意してください。  
  >指定できる拡張子は1種類のみです。  
  >拡張子に指定する文字に、ワイルドカード文字`'*'` `'?'`は使用できません。
- 一覧表示するファイル数が40個(20行)を超えた場合を想定していません。  
- 本プログラムは`SCREEN` `KEY OFF` `WIDTH`命令文を使用しています。  
- 一切の動作保証をしておりません。  
利用者の責任において利用してください。  
- バグの修正依頼は受け付けておりません。  
利用者の責任において修正してください。  

## Special thanks
HRA!.🅼🆂🆇さん　（@thara1129）  

※順不同  
※（）内は Xのアカウント  

## License
- ライセンスはCC0 1.0としましたので、改変および再配布に制限はありません。  

These codes are licensed under CC0.

[![CC0](http://i.creativecommons.org/p/zero/1.0/88x31.png "CC0")](http://creativecommons.org/publicdomain/zero/1.0/deed.ja)
